"use strict";(self["webpackChunk_lo_vue3_web"]=self["webpackChunk_lo_vue3_web"]||[]).push([[14],{1477:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var n=o(6124);const l={id:"vdom",class:"mg"};function i(e,t,o,i,s,c){return(0,n.wg)(),(0,n.iD)("div",l)}var s=o(2672);const c={mounted(){function e(e){const t=e.slice(),o=[0];let n,l,i,s,c;const u=e.length;for(n=0;n<u;n++){const u=e[n];if(0!==u){if(l=o[o.length-1],e[l]<u){t[n]=l,o.push(n);continue}i=0,s=o.length-1;while(i<s)c=i+s>>1,e[o[c]]<u?i=c+1:s=c;u<e[o[i]]&&(i>0&&(t[n]=o[i-1]),o[i]=n)}}i=o.length,s=o[i-1];while(i-- >0)o[i]=s,s=t[s];return o}new Array(10).fill(0).map(((e,t)=>({value:t.toString(),time:(0,s.jP)(Date.now(),"s")})));console.log("mounted");const t=e=>{const t=document.createElement("div");t.innerHTML=e.map((e=>`<span key="${e.value}" time="${e.time}">${e.time?`${e.value}:${e.time}`:"-"}</span>`)).join(""),document.getElementById("vdom").append(t)};function o(e,t){return e.key===t.value}function n(n){const l=[...document.querySelector("div#vdom > div:last-child").children].map((e=>({value:e.innerText.split(":")[0],key:e.getAttribute("key"),time:e.getAttribute("time")})));console.log("oldCh:",l);let i=0,c=l.length-1,u=n.length-1;while(i<=c&&i<=u){if(!o(l[i],n[i]))break;n[i].time=l[i].time,i++,t(n)}while(i<=c&&i<=u){if(!o(l[c],n[u]))break;n[u].time=l[c].time,c--,u--,t(n)}if(i>u)i<=c&&console.log("unmout:",i,c);else if(i>c)while(i<=u)n[i].time=(0,s.jP)(Date.now(),"s"),i++,t(n);else{let a;console.log(i,u,c);const m=i,r=i,g=new Map;for(a=r;a<u;a++)g.set(n[a].value,a);let d=0,v=u-i+1,f=!1,p=0;const h=new Array(v).fill(0);for(console.log(v,g,h),a=m;a<=c;a++)if(d>v)console.log("unmount",a);else{{let e=g.get(l[a].value);void 0==e?console.log("unmount",a):(e>=p?p=e:f=!0,h[e-r]=a+1,o(n[e],l[a])&&(n[e].time=l[a].time),d++)}t(n)}console.log(l.map((e=>e.value))),console.log(n.map((e=>e.value))),console.log(h);const w=e(h);console.log(w),w.forEach((e=>{if(0==h[e])return;const t=h[e]-1,o=g.get(l[t].value);console.log("newIdx:",o),n[o].time=l[t].time})),t(n);let b=w.length-1;for(a=v-1;a>=0;a--)0===h[a]?n[a+r].time=(0,s.jP)(Date.now(),"s"):f&&(w[b]!==a||b<0?n[a+r].time=l[h[a]-1].time:b--),t(n)}}const l="a,b,c,d,e,f,g".split(",").map((e=>({value:e.toUpperCase(),time:(0,s.jP)(Date.now(),"s")})));t(l),setTimeout((()=>{const e="a,z,e,c,b,d,y,f,g".split(",").map((e=>({value:e.toUpperCase()})));n(e)}),3e3),setTimeout((()=>{}),2e3),setTimeout((()=>{}),1e3)}};var u=o(9956);const a=(0,u.Z)(c,[["render",i]]),m=a}}]);